(function(){"use strict";var t={401:function(t,s,e){var o=e(144),r=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},a=[],i={name:"App"},n=i,l=e(1),u=(0,l.Z)(n,r,a,!1,null,null,null),c=u.exports,h=e(345),p=e(629),d=function(){var t=this,s=t._self._c;return s("div",{staticClass:"users-list"},[s("h1",[t._v("Users List")]),s("ul",t._l(t.users,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e.name)+" "),s("button",{on:{click:function(s){return t.showUserAlbums(e.id)}}},[t._v("Show Albums")]),s("button",{on:{click:function(s){return t.showUserPosts(e.id)}}},[t._v("Show Posts")])])})),0)])},f=[],m=e(121),b={data(){return{users:[]}},created(){this.fetchUsers()},methods:{fetchUsers(){m.Z.get("https://jsonplaceholder.typicode.com/users").then((t=>{this.users=t.data})).catch((t=>{console.error("Error fetching users",t)}))},showUserAlbums(t){this.$router.push({name:"user-details",params:{id:t,pageType:"albums"}})},showUserPosts(t){this.$router.push({name:"user-details",params:{id:t,pageType:"posts"}})}}},v=b,g=(0,l.Z)(v,d,f,!1,null,null,null),y=g.exports,_=function(){var t=this,s=t._self._c;return s("div",{staticClass:"user-details"},[s("h3",[t._v("Name: "+t._s(t.user.name))]),"albums"===t.pageType&&t.albums.length>0?s("div",{staticClass:"albums-list"},[s("h2",[t._v("Albums:")]),t._l(t.albums,(function(e){return s("div",{key:e.id,staticClass:"album-item"},[s("div",{staticClass:"album-name"},[t._v(t._s(e.title))]),e.photos&&e.photos.length>0?s("div",{ref:"albumPhotos",refInFor:!0,staticClass:"album-photos"},t._l(t.albumPhotos(e.id).slice(0,5),(function(t){return s("img",{key:t.id,attrs:{src:t.url,alt:t.title}})})),0):t._e()])}))],2):t._e(),"posts"===t.pageType?s("div",{staticClass:"posts-list"},[s("h2",[t._v("Posts:")]),t._l(t.posts,(function(e){return s("div",{key:e.id,staticClass:"post"},[s("div",{staticClass:"post-name"},[t._v(t._s(e.title))]),s("p",{staticClass:"post-body"},[t._v(t._s(e.body))])])}))],2):t._e()])},P=[],Z={data(){return{user:{},albums:[],posts:[],selectedAlbum:null,pageType:"",photosLoaded:!1}},created(){const t=this.$route.params.id;this.pageType=this.$route.params.pageType||"albums",this.fetchUserDetails(t),"albums"===this.pageType?this.fetchUserAlbums(t):"posts"===this.pageType&&this.fetchUserPosts(t)},methods:{fetchUserDetails(t){m.Z.get(`https://jsonplaceholder.typicode.com/users/${t}`).then((t=>{this.user=t.data})).catch((t=>{console.error("Error fetching user details",t)}))},async fetchUserAlbums(t){try{const s=await m.Z.get(`https://jsonplaceholder.typicode.com/albums?userId=${t}`);this.albums=s.data,await this.fetchAlbumPhotos()}catch(s){console.error("Error fetching user albums",s)}},async fetchAlbumPhotos(){this.albums.map((t=>t.id));try{const t=await m.Z.get("https://jsonplaceholder.typicode.com/photos"),s=t.data;this.albums.forEach((t=>{const e=s.filter((s=>s.albumId===t.id));e&&e.length>0?this.$set(t,"photos",e.slice(0,5)):this.$set(t,"photos",[])})),this.photosLoaded=!0,this.initCarouselIfDataLoaded()}catch(t){console.error("Error fetching album photos",t)}},fetchUserPosts(t){m.Z.get(`https://jsonplaceholder.typicode.com/posts?userId=${t}`).then((t=>{this.posts=t.data})).catch((t=>{console.error("Error fetching user posts",t)}))},initCarouselIfDataLoaded(){this.$nextTick((()=>{if(this.photosLoaded){const t=this.$refs.albumPhotos;t?$(t).slick():console.error("Контейнер для инициализации Slick Carousel не найден")}else console.log("Данные еще не загружены, попробуйте позже")}))},albumPhotos(t){const s=this.albums.find((s=>s.id===t));return s&&s.photos?s.photos.slice(0,5):[]}}},w=Z,U=(0,l.Z)(w,_,P,!1,null,null,null),j=U.exports;o.ZP.use(h.ZP);const T=[{path:"/",redirect:"/users"},{path:"/users",component:y},{path:"/user-details/:id/:pageType",name:"user-details",component:j}];var C=new h.ZP({base:"/app-personalities/",mode:"history",routes:T});o.ZP.use(p.ZP);var k=new p.ZP.Store({state:{users:[],userDetails:{}},mutations:{setUsers(t,s){t.users=s},setUserDetails(t,s){t.userDetails=s},setAlbums(t,s){t.albums=s},setPosts(t,s){t.posts=s}},actions:{fetchUsers({commit:t}){m.Z.get("httsp://jsonplaceholder.typicode.com/users").then((s=>{t("setUsers",s.data)})).catch((t=>{console.error("error fetching users",t)}))},fetchUserDetails({commit:t},s){m.Z.get(`httsp://jsonplaceholder.typicode.com/users/${s}`).then((s=>{t("setUserDetails",s.data)})).catch((t=>{console.error("error fetching user details",t)}))},fetchUserAlbums({commit:t},s){m.Z.get(`httsp://jsonplaceholder.typicode.com/albums?userId=${s}`).then((s=>{t("setAlbums",s.data)})).catch((t=>{console.error("error fetching user albums",t)}))},fetchUserPosts({commit:t},s){m.Z.get(`httsp://jsonplaceholder.typicode.com/posts?userId=${s}`).then((s=>{t("setPosts",s.data)})).catch((t=>{console.error("error fetching user posts",t)}))}},modules:{}});o.ZP.config.productionTip=!1,o.ZP.use(h.ZP),o.ZP.use(p.ZP),new o.ZP({el:"#app",router:C,store:k,render:function(t){return t(c)}}).$mount("#app")}},s={};function e(o){var r=s[o];if(void 0!==r)return r.exports;var a=s[o]={exports:{}};return t[o](a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(s,o,r,a){if(!o){var i=1/0;for(c=0;c<t.length;c++){o=t[c][0],r=t[c][1],a=t[c][2];for(var n=!0,l=0;l<o.length;l++)(!1&a||i>=a)&&Object.keys(e.O).every((function(t){return e.O[t](o[l])}))?o.splice(l--,1):(n=!1,a<i&&(i=a));if(n){t.splice(c--,1);var u=r();void 0!==u&&(s=u)}}return s}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[o,r,a]}}(),function(){e.d=function(t,s){for(var o in s)e.o(s,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:s[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,o){var r,a,i=o[0],n=o[1],l=o[2],u=0;if(i.some((function(s){return 0!==t[s]}))){for(r in n)e.o(n,r)&&(e.m[r]=n[r]);if(l)var c=l(e)}for(s&&s(o);u<i.length;u++)a=i[u],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(c)},o=self["webpackChunkapp_personalities"]=self["webpackChunkapp_personalities"]||[];o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o))}();var o=e.O(void 0,[998],(function(){return e(401)}));o=e.O(o)})();
//# sourceMappingURL=app.32e9af63.js.map